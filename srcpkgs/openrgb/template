# Template file for 'openrgb'
pkgname=openrgb
version=9999
revision=1
wrksrc=OpenRGB-release_${version}
build_style=qmake
hostmakedepends="qt5-qmake qt5-host-tools git pkg-config"
makedepends="git qt5-devel libusb-devel hidapi-devel"
short_desc="Open source RGB lighting control"
maintainer="Neel Chotai <neel@chot.ai>"
license="GPL-2.0-only"
homepage="https://gitlab.com/CalcProgrammer1/OpenRGB"

do_fetch() {
	git clone https://gitlab.com/CalcProgrammer1/OpenRGB ${wrksrc}
}

pre_build() {
	sed -i 's|rules.path=/lib|rules.path=/usr/lib|g' OpenRGB.pro
}

post_install() {
	vdoc README.md
	vinstall ${FILESDIR}/openrgb.conf 644 usr/lib/modules-load.d
	vsv openrgb
}
